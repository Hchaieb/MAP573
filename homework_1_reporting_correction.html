<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="MAP573 team" />

<meta name="date" content="2020-09-29" />

<title>Homework #1: correction</title>

<script src="site_libs/header-attrs-2.3/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script src="resources/hideOutput.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="resources/style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 45px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h2 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h3 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h4 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h5 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h6 {
  padding-top: 50px;
  margin-top: -50px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">MAP573</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://github.com/jchiquet/CourseUnsupervisedLearningX">
    <span class="fa fa-github"></span>
     
    
  </a>
</li>
<li>
  <a href="https://moodle.polytechnique.fr/enrol/index.php?id=9404">
    <span class="fa fa-server"></span>
     
    Moodle
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="instructions.html">
    <span class="fas fa fas fa-gear"></span>
     
    Setup
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-chalkboard-teacher"></span>
     
    Lectures/Slides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="resources/introMAP573.pdf">General introduction</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="https://github.com/jchiquet/CourseAdvancedR/raw/master/2020_MAP573/R_intro.pdf">An introduction to R</a>
    </li>
    <li>
      <a href="https://github.com/jchiquet/CourseAdvancedR/raw/master/2020_MAP573/R_intro_tidyverse.pdf">Manipulation, representation: a Tour of the tidyverse</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Dimensionality Reduction</li>
    <li class="dropdown-header">Linear methods: PCA and variants</li>
    <li class="dropdown-header">Non linear methods: Kernel PCA, t-SNE, VAE</li>
    <li class="divider"></li>
    <li class="dropdown-header">Clustering</li>
    <li class="dropdown-header">Partitioning: HAC, k-means, Spectral clustering</li>
    <li class="dropdown-header">Model-based clustering: Gaussian mixture model and EM</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-laptop"></span>
     
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="tutorials_R.html">R tutorials</a>
    </li>
    <li class="dropdown-header">PCA</li>
    <li class="dropdown-header">auto-encoder</li>
    <li class="dropdown-header">Clustering</li>
    <li class="dropdown-header">GGM and EM</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-keyboard"></span>
     
    Homework
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="homework_1_reporting.html">#1; Swirl, Rmarkdown, R basics</a>
    </li>
    <li>
      <a href="homework_1_reporting_correction.html">#1: correction</a>
    </li>
    <li>
      <a href="homework_2_data_manipulation_representation.html">Data manipulation and representation</a>
    </li>
    <li class="dropdown-header">Data analysis with PCA</li>
    <li class="dropdown-header">Report for lab #2</li>
    <li class="dropdown-header">Spectral Clustering for graphs</li>
    <li class="dropdown-header">Handling Missing Values</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-chart-bar"></span>
     
    Projects
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Subject 1:</li>
    <li class="dropdown-header">Subject 2:</li>
    <li class="dropdown-header">Subject 3:</li>
    <li class="dropdown-header">Subject 4:</li>
    <li class="dropdown-header">Subject 5:</li>
    <li class="dropdown-header">Subject 6:</li>
    <li class="dropdown-header">Subject 7:</li>
    <li class="dropdown-header">Subject 8:</li>
    <li class="dropdown-header">Subject 9:</li>
    <li class="dropdown-header">Subject 10:</li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Homework #1: correction</h1>
<h3 class="subtitle">Swirl, Rmarkdown reporting and first analyses</h3>
<h4 class="author">MAP573 team</h4>
<h4 class="date">09/29/2020</h4>

</div>


<div id="preliminaries" class="section level2">
<h2>Preliminaries</h2>
<p>Let us load a couple of packages useful in our analyses:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✔ ggplot2 3.3.2     ✔ purrr   0.3.4
## ✔ tibble  3.0.3     ✔ dplyr   1.0.2
## ✔ tidyr   1.1.2     ✔ stringr 1.4.0
## ✔ readr   1.3.1     ✔ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
<div id="part-1-swirl" class="section level2">
<h2>Part 1: Swirl</h2>
<p>A bit long but essentially straightforward.</p>
</div>
<div id="part-2-basic-exploratory-data-analysis" class="section level2">
<h2>Part 2: Basic exploratory data analysis</h2>
<p>The <a href="https://raw.githubusercontent.com/jchiquet/MAP573/master/data/fertility.csv">‘fertility.csv’</a> data set contains the female fertility in Europe in 2012 for 39 European countries splitted by age groups 15-19, 20-24, 25-29, 30-34, 35-39, 40 and over. The fertility is given as the mean number of children born per 1000 women.</p>
<ol style="list-style-type: decimal">
<li>Download and read the data set from the data directory of MAP573’s github repository (use, e.g. <code>read.csv</code>). Store it into a data frame called fertility.</li>
</ol>
<p>I suggest two solution, one in base R and another one using <code>readr</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="co">## base R</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>fertility &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/fertility.csv&quot;</span>, <span class="dt">row.names =</span> <span class="dv">1</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_tibble</span>()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="co">## readr</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>fertility &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/fertility.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>id)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   id = col_double(),
##   Pays = col_character(),
##   Region = col_character(),
##   Age = col_character(),
##   Fertilite = col_double()
## )</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Display the first 10 rows in the R markdown report.</li>
</ol>
<p>The <code>kable</code> function is useful to format table-like printing The formating is adapted to the type of output (PDF, HTML, doc).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>fertility <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Pays</th>
<th align="left">Region</th>
<th align="left">Age</th>
<th align="right">Fertilite</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">15-19</td>
<td align="right">20.8</td>
</tr>
<tr class="even">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">20-24</td>
<td align="right">107.1</td>
</tr>
<tr class="odd">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">25-29</td>
<td align="right">126.7</td>
</tr>
<tr class="even">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">30-34</td>
<td align="right">72.3</td>
</tr>
<tr class="odd">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">35-39</td>
<td align="right">24.4</td>
</tr>
<tr class="even">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">&gt;=40</td>
<td align="right">5.5</td>
</tr>
</tbody>
</table>
<ol start="3" style="list-style-type: decimal">
<li>Make a summary of the data and display it (command <code>summary</code>)</li>
</ol>
<p>The <strong>tibble</strong>’s command <code>glimpse</code> allows us to have a quick overview of the structure of your table:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a>fertility <span class="op">%&gt;%</span><span class="st"> </span>tibble<span class="op">::</span><span class="kw">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 234
## Columns: 4
## $ Pays      &lt;chr&gt; &quot;Albanie&quot;, &quot;Albanie&quot;, &quot;Albanie&quot;, &quot;Albanie&quot;, &quot;Albanie&quot;, &quot;Alb…
## $ Region    &lt;chr&gt; &quot;Europe sud&quot;, &quot;Europe sud&quot;, &quot;Europe sud&quot;, &quot;Europe sud&quot;, &quot;Eu…
## $ Age       &lt;chr&gt; &quot;15-19&quot;, &quot;20-24&quot;, &quot;25-29&quot;, &quot;30-34&quot;, &quot;35-39&quot;, &quot;&gt;=40&quot;, &quot;15-19…
## $ Fertilite &lt;dbl&gt; 20.8, 107.1, 126.7, 72.3, 24.4, 5.5, 8.0, 36.4, 78.9, 94.6,…</code></pre>
<p>The command <code>summary</code> - when applied on table like object - gives a summary statistics of each column, depending on its type (factor, numeric).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a>fertility <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summary</span>()</span></code></pre></div>
<pre><code>##      Pays              Region              Age              Fertilite     
##  Length:234         Length:234         Length:234         Min.   :  3.50  
##  Class :character   Class :character   Class :character   1st Qu.: 14.82  
##  Mode  :character   Mode  :character   Mode  :character   Median : 47.75  
##                                                           Mean   : 52.59  
##                                                           3rd Qu.: 84.97  
##                                                           Max.   :136.70</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Find the country and age group with the highest, smallest value in each Region</li>
</ol>
<p>Let us do this with a mix f tidyverse and base R tools:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>fertility <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(Region) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a>    <span class="st">`</span><span class="dt">fertility min </span><span class="st">`</span>     =<span class="st"> </span><span class="kw">min</span>(Fertilite),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a>    <span class="st">`</span><span class="dt">smallest (Country)</span><span class="st">`</span> =<span class="st"> </span>Pays[<span class="kw">which.min</span>(Fertilite)],</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a>    <span class="st">`</span><span class="dt">smallest (Age)</span><span class="st">`</span>     =<span class="st"> </span>Age[<span class="kw">which.min</span>(Fertilite)],</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true"></a>    <span class="st">`</span><span class="dt">fertility max </span><span class="st">`</span>     =<span class="st"> </span><span class="kw">max</span>(Fertilite),</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true"></a>    <span class="st">`</span><span class="dt">highest (Country)</span><span class="st">`</span>  =<span class="st"> </span>Pays[<span class="kw">which.max</span>(Fertilite)],</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true"></a>    <span class="st">`</span><span class="dt">highest (Age)</span><span class="st">`</span>      =<span class="st"> </span>Age[<span class="kw">which.max</span>(Fertilite)]) <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<table>
<colgroup>
<col width="11%" />
<col width="13%" />
<col width="17%" />
<col width="13%" />
<col width="13%" />
<col width="16%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Region</th>
<th align="right">fertility min</th>
<th align="left">smallest (Country)</th>
<th align="left">smallest (Age)</th>
<th align="right">fertility max</th>
<th align="left">highest (Country)</th>
<th align="left">highest (Age)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Europe est</td>
<td align="right">3.8</td>
<td align="left">Moldavie</td>
<td align="left">&gt;=40</td>
<td align="right">106.7</td>
<td align="left">Bielorussie</td>
<td align="left">25-29</td>
</tr>
<tr class="even">
<td align="left">Europe nord</td>
<td align="right">4.4</td>
<td align="left">Danemark</td>
<td align="left">15-19</td>
<td align="right">134.1</td>
<td align="left">Suede</td>
<td align="left">30-34</td>
</tr>
<tr class="odd">
<td align="left">Europe Ouest</td>
<td align="right">3.5</td>
<td align="left">Suisse</td>
<td align="left">15-19</td>
<td align="right">136.7</td>
<td align="left">Pays-Bas</td>
<td align="left">30-34</td>
</tr>
<tr class="even">
<td align="left">Europe sud</td>
<td align="right">4.4</td>
<td align="left">Macedoine</td>
<td align="left">&gt;=40</td>
<td align="right">126.7</td>
<td align="left">Albanie</td>
<td align="left">25-29</td>
</tr>
</tbody>
</table>
<ol start="4" style="list-style-type: decimal">
<li>Display boxplots of the fertility for each age group</li>
</ol>
<p>I first relevel the levels in Age for presenting them in the more interpretable and natural order.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>fertility <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Age =</span> <span class="kw">fct_relevel</span>(Age, <span class="kw">c</span>(<span class="st">&quot;15-19&quot;</span>, <span class="st">&quot;20-24&quot;</span>, <span class="st">&quot;25-29&quot;</span>, <span class="st">&quot;30-34&quot;</span>, <span class="st">&quot;35-39&quot;</span>, <span class="st">&quot;&gt;=40&quot;</span>))) <span class="op">%&gt;%</span><span class="st">  </span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">aes</span>(<span class="dt">x =</span> Age, <span class="dt">y =</span> Fertilite) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>()</span></code></pre></div>
<p><img src="homework_1_reporting_correction_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Bonus: split by region.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>fertility <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Age =</span> <span class="kw">fct_relevel</span>(Age, <span class="kw">c</span>(<span class="st">&quot;15-19&quot;</span>, <span class="st">&quot;20-24&quot;</span>, <span class="st">&quot;25-29&quot;</span>, <span class="st">&quot;30-34&quot;</span>, <span class="st">&quot;35-39&quot;</span>, <span class="st">&quot;&gt;=40&quot;</span>))) <span class="op">%&gt;%</span><span class="st">  </span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">aes</span>(<span class="dt">x =</span> Age, <span class="dt">y =</span> Fertilite, <span class="dt">fill =</span> Region) <span class="op">+</span><span class="st"> </span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_boxplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_jitter</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>, <span class="dt">size =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="homework_1_reporting_correction_files/figure-html/Region-1.png" width="672" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Display boxplots of the fertility for each ‘Region’ for the youngest age group</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>fertility <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(Age <span class="op">==</span><span class="st"> &quot;15-19&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(Region) <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># </span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">aes</span>(<span class="dt">x =</span> Region, <span class="dt">y =</span> Fertilite) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>()</span></code></pre></div>
<p><img src="homework_1_reporting_correction_files/figure-html/Region%20youngest-1.png" width="672" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Extract all the data rows with Country starting by “A”</li>
</ol>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="kw">filter</span>(fertility, <span class="kw">str_detect</span>(Pays, <span class="st">&quot;^A&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Pays</th>
<th align="left">Region</th>
<th align="left">Age</th>
<th align="right">Fertilite</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">15-19</td>
<td align="right">20.8</td>
</tr>
<tr class="even">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">20-24</td>
<td align="right">107.1</td>
</tr>
<tr class="odd">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">25-29</td>
<td align="right">126.7</td>
</tr>
<tr class="even">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">30-34</td>
<td align="right">72.3</td>
</tr>
<tr class="odd">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">35-39</td>
<td align="right">24.4</td>
</tr>
<tr class="even">
<td align="left">Albanie</td>
<td align="left">Europe sud</td>
<td align="left">&gt;=40</td>
<td align="right">5.5</td>
</tr>
<tr class="odd">
<td align="left">Allemagne</td>
<td align="left">Europe Ouest</td>
<td align="left">15-19</td>
<td align="right">8.0</td>
</tr>
<tr class="even">
<td align="left">Allemagne</td>
<td align="left">Europe Ouest</td>
<td align="left">20-24</td>
<td align="right">36.4</td>
</tr>
<tr class="odd">
<td align="left">Allemagne</td>
<td align="left">Europe Ouest</td>
<td align="left">25-29</td>
<td align="right">78.9</td>
</tr>
<tr class="even">
<td align="left">Allemagne</td>
<td align="left">Europe Ouest</td>
<td align="left">30-34</td>
<td align="right">94.6</td>
</tr>
<tr class="odd">
<td align="left">Allemagne</td>
<td align="left">Europe Ouest</td>
<td align="left">35-39</td>
<td align="right">50.9</td>
</tr>
<tr class="even">
<td align="left">Allemagne</td>
<td align="left">Europe Ouest</td>
<td align="left">&gt;=40</td>
<td align="right">9.3</td>
</tr>
<tr class="odd">
<td align="left">Autriche</td>
<td align="left">Europe Ouest</td>
<td align="left">15-19</td>
<td align="right">8.6</td>
</tr>
<tr class="even">
<td align="left">Autriche</td>
<td align="left">Europe Ouest</td>
<td align="left">20-24</td>
<td align="right">44.5</td>
</tr>
<tr class="odd">
<td align="left">Autriche</td>
<td align="left">Europe Ouest</td>
<td align="left">25-29</td>
<td align="right">89.2</td>
</tr>
<tr class="even">
<td align="left">Autriche</td>
<td align="left">Europe Ouest</td>
<td align="left">30-34</td>
<td align="right">94.6</td>
</tr>
<tr class="odd">
<td align="left">Autriche</td>
<td align="left">Europe Ouest</td>
<td align="left">35-39</td>
<td align="right">46.8</td>
</tr>
<tr class="even">
<td align="left">Autriche</td>
<td align="left">Europe Ouest</td>
<td align="left">&gt;=40</td>
<td align="right">9.6</td>
</tr>
</tbody>
</table>
<ol start="8" style="list-style-type: decimal">
<li>Extract the fertility values of the Region from North Europe and make a histogram</li>
</ol>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a>fertility <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(Region <span class="op">==</span><span class="st"> &#39;Europe nord&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">aes</span>(<span class="dt">x =</span> Fertilite) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="homework_1_reporting_correction_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<ol start="9" style="list-style-type: decimal">
<li>Extract the fertility values of the Region from East Europe and plot a kernel density estimate (function <code>density</code>)</li>
</ol>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a>fertility <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(Region <span class="op">==</span><span class="st"> &#39;Europe est&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(Fertilite) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">density</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>()</span></code></pre></div>
<p><img src="homework_1_reporting_correction_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<ol start="10" style="list-style-type: decimal">
<li>Include in your report the mathematical expression of the kernel density estimator as given at <a href="https://en.wikipedia.org/wiki/Kernel_density_estimation">https://en.wikipedia.org/wiki/Kernel_density_estimation</a></li>
</ol>
<p>Here it is:</p>
<p><span class="math display">\[
\widehat{f}_h(x) = \frac{1}{n}\sum_{i=1}^n K_h (x - x_i) = \frac{1}{nh} \sum_{i=1}^n K\Big(\frac{x-x_i}{h}\Big),
\]</span></p>
</div>
<div id="part-3-basic-handling-of-missing-values" class="section level2">
<h2>Part 3: Basic handling of missing values</h2>
<p>The <a href="https://raw.githubusercontent.com/jchiquet/MAP573/master/data/ozoneNA.csv">‘ozoneNA.csv’</a> data set contains 112 observations about air pollution collected during the summer of 2001 in Rennes. The aim of this study is to analyze the relationship between the maximum daily ozone level (maxO3) and the other meteorological variables. Hence, the variables recorded in this data set are the following:</p>
<ul>
<li>maxO3 (maximum daily ozone)</li>
<li>maxO3v (maximum daily ozone the previous day)</li>
<li>T12 (temperature at midday)</li>
<li>T9 (Temp at 9am)</li>
<li>T15 (Temp at 3pm)</li>
<li>Vx12 (projection of the wind speed vector on the east-west axis at midday)</li>
<li>Vx9 and Vx15 (same at 9am and 3pm)</li>
<li>Ne9, Ne12, Ne15 Nebulosity (cloud)</li>
</ul>
<p>This data is incomplete - there are missing values. Indeed, it occurs frequently to have machines that fail one day, leading to some information not recorded. In this exercice, we will perform extremely basic imputation of missing values for the variable <code>maxO3</code>, measuring the maximum value of ozone of the day.</p>
<ol style="list-style-type: decimal">
<li>Import the data as a data frame named <code>ozone</code>.</li>
</ol>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a>ozone &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/ozoneNA.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>X1)</span></code></pre></div>
<pre><code>## Warning: Missing column names filled in: &#39;X1&#39; [1]</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   X1 = col_double(),
##   maxO3 = col_double(),
##   T9 = col_double(),
##   T12 = col_double(),
##   T15 = col_double(),
##   Ne9 = col_double(),
##   Ne12 = col_double(),
##   Ne15 = col_double(),
##   Vx9 = col_double(),
##   Vx12 = col_double(),
##   Vx15 = col_double(),
##   maxO3v = col_double(),
##   WindDirection = col_character()
## )</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Represent an histogram of the variable <code>maxO3</code>.</li>
</ol>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a>ozone <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">aes</span>(<span class="dt">x =</span> maxO3) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 16 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="homework_1_reporting_correction_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Perform a <em>very</em> basic imputation by replacing <code>NA</code> values in <code>maxO3</code> by the mean value. Create a vector <code>maxO3_NA_mean</code>.</li>
</ol>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a>maxO3_NA_mean &lt;-<span class="st"> </span>ozone<span class="op">$</span>maxO3</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true"></a>maxO3_NA_mean[<span class="kw">is.na</span>(maxO3_NA_mean)] &lt;-<span class="st"> </span><span class="kw">mean</span>(maxO3_NA_mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>We suggest now to perform imputation via the k-nearest neighbor approach (see <a href="https://en.wikipedia.org/wiki/K-nearest_neighbors_algorithm">https://en.wikipedia.org/wiki/K-nearest_neighbors_algorithm</a> ). Use the package <strong>simputation</strong> to perform knn-imputation of the missing-value in <code>maxO3</code> based on a distance computed with all remaming variable. To do so, use</li>
</ol>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a>simputation<span class="op">::</span><span class="kw">impute_knn</span>(ozone, maxO3 <span class="op">~</span><span class="st"> </span>.)</span></code></pre></div>
<p>where <code>ozone</code> is your data frame. The string <code>maxO3 ~ .</code> is a formula explaining that <code>maxO3</code> is the variable on which imputation must be performed, and while <code>~ .</code> says that all remaining variables of the data frame are used to perform the imputation. Create a vector <code>maxO3_NA_knn</code> with the vector with imputed values.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a>maxO3_NA_knn &lt;-<span class="st"> </span>ozone <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true"></a><span class="st">  </span>simputation<span class="op">::</span><span class="kw">impute_knn</span>(maxO3 <span class="op">~</span><span class="st"> </span>.) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(maxO3)</span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Compare visually the distributions of the three vectors <code>maxO3</code>,<code>maxO3_NA_mean</code> and <code>maxO3_NA_knn</code>.</li>
</ol>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a><span class="kw">tibble</span>(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true"></a>  <span class="dt">no_imputation   =</span> ozone<span class="op">$</span>maxO3,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true"></a>  <span class="dt">mean_imputation =</span> maxO3_NA_mean, </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true"></a>  <span class="dt">knn_imputation  =</span> maxO3_NA_knn</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true"></a>  ) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="kw">everything</span>()) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">aes</span>(<span class="dt">x =</span> value) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>() <span class="op">+</span><span class="st"> </span><span class="kw">facet_grid</span>(<span class="op">~</span><span class="st"> </span>name)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 16 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="homework_1_reporting_correction_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
